<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Simp Cash</title>
    <!-- Modern Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Icons (Remix Icon) -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div id="authView" class="feature-view"
        style="display: flex; flex-direction: column; justify-content: center; height: 100vh; background: var(--bg-main);">
        <div style="text-align: center; margin-bottom: 40px;">
            <div
                style="width: 80px; height: 80px; background: linear-gradient(135deg, var(--primary), var(--secondary)); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; color: white; font-size: 2rem; box-shadow: var(--shadow-soft);">
                <i class="ri-wallet-3-line"></i>
            </div>
            <h1 style="color: var(--primary);">Simp Cash</h1>
            <p class="text-muted">Simple. Fast. Secure.</p>
        </div>

        <!-- Login Form -->
        <div id="loginForm" class="fade-in">
            <h3 style="text-align: center; margin-bottom: 20px;">Welcome Back</h3>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" id="loginPhone" placeholder="017..." class="input-field">
            </div>
            <div class="form-group" style="position: relative;">
                <label>Password</label>
                <input type="password" id="loginPassword" placeholder="******" class="input-field">
                <i class="ri-eye-off-line password-toggle" onclick="togglePassword('loginPassword', this)"></i>
            </div>
            <div style="text-align: right; margin-bottom: 20px;">
                <span style="color: var(--primary); font-size: 0.85rem; cursor: pointer; font-weight: 500;"
                    onclick="showForgotPassword()">Forgot Password?</span>
            </div>
            <button class="btn btn-primary full-width" onclick="handleLogin()">Sign In</button>
            <p style="text-align: center; margin-top: 20px; font-size: 0.9rem;">
                Don't have an account? <span style="color: var(--primary); cursor: pointer; font-weight: 600;"
                    onclick="showSignUp()">Sign Up</span>
            </p>
        </div>

        <!-- Forgot Password View -->
        <div id="forgotPasswordView" class="fade-in hidden">
            <h3 style="text-align: center; margin-bottom: 20px;">Reset Password</h3>

            <div id="resetStep1">
                <div class="form-group">
                    <label>Enter Registered Phone</label>
                    <input type="tel" id="resetPhone" placeholder="017..." class="input-field">
                </div>
                <button class="btn btn-primary full-width" onclick="initiatePasswordReset()">Send Reset Code</button>
            </div>

            <div id="resetStep2" class="hidden">
                <div class="form-group">
                    <label>Enter OTP Code</label>
                    <input type="number" id="resetOTP" placeholder="1234" class="input-field">
                </div>
                <div class="form-group" style="position: relative;">
                    <label>New Password</label>
                    <input type="password" id="newPassword" placeholder="******" class="input-field">
                    <i class="ri-eye-off-line password-toggle" onclick="togglePassword('newPassword', this)"></i>
                </div>
                <button class="btn btn-primary full-width" onclick="completePasswordReset()">Reset Password</button>
            </div>

            <p style="text-align: center; margin-top: 20px; font-size: 0.9rem;">
                <span style="color: var(--text-muted); cursor: pointer;" onclick="showLogin()">Back to Login</span>
            </p>
        </div>

        <!-- Sign Up Form -->
        <div id="signUpForm" class="fade-in hidden">
            <h3 style="text-align: center; margin-bottom: 20px;">Create Account</h3>
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="signupName" placeholder="Your Name" class="input-field">
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" id="signupPhone" placeholder="017..." class="input-field">
            </div>
            <div class="form-group" style="position: relative;">
                <label>Password</label>
                <input type="password" id="signupPassword" placeholder="******" class="input-field">
                <i class="ri-eye-off-line password-toggle" onclick="togglePassword('signupPassword', this)"></i>
            </div>
            <button class="btn btn-primary full-width" onclick="handleSignUp()">Sign Up</button>
            <p style="text-align: center; margin-top: 20px; font-size: 0.9rem;">
                Already have an account? <span style="color: var(--primary); cursor: pointer; font-weight: 600;"
                    onclick="showLogin()">Sign In</span>
            </p>
        </div>
    </div>

    <div id="app" class="hidden">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="user-profile">
                <div class="avatar" id="topBarAvatar">S</div>
                <div class="user-info">
                    <div style="font-size: 0.8rem; color: var(--text-muted);" id="topBarGreeting">Good Morning</div>
                    <div style="font-weight: 700;" id="topBarName">Sadik</div>
                </div>
            </div>
            <div class="actions" style="display: flex; gap: 15px; align-items: center;">
                <i class="ri-notification-3-line" onclick="showInbox()"
                    style="font-size: 1.5rem; color: var(--text-main); cursor: pointer;"></i>
                <i class="ri-logout-circle-r-line" onclick="logout()"
                    style="font-size: 1.5rem; color: var(--accent); cursor: pointer;"></i>
            </div>
        </div>

        <!-- Balance Card -->
        <div class="balance-card">
            <div style="font-size: 0.9rem; opacity: 0.9;">Total Balance</div>
            <div class="balance-amount" id="balanceDisplay" onclick="toggleBalance()">
                $2,450.50
            </div>
            <div class="tap-hint">Tap to reveal balance</div>
        </div>

        <!-- Quick Actions -->
        <div class="actions-grid">
            <div class="action-item" onclick="handleAction('Send Money')">
                <div class="icon-box"><i class="ri-send-plane-fill"></i></div>
                <span class="action-label">Send</span>
            </div>
            <div class="action-item" onclick="handleAction('Cash Out')">
                <div class="icon-box"><i class="ri-download-2-fill"></i></div>
                <span class="action-label">Cash Out</span>
            </div>
            <div class="action-item" onclick="handleAction('Recharge')">
                <div class="icon-box"><i class="ri-smartphone-line"></i></div>
                <span class="action-label">Recharge</span>
            </div>
            <div class="action-item" onclick="handleAction('Add Money')">
                <div class="icon-box"><i class="ri-add-circle-line"></i></div>
                <span class="action-label">Add Money</span>
            </div>
            <!-- Row 2 -->
            <div class="action-item" onclick="handleAction('Pay Bill')">
                <div class="icon-box"><i class="ri-bill-line"></i></div>
                <span class="action-label">Pay Bill</span>
            </div>
            <div class="action-item" onclick="handleAction('Savings')">
                <div class="icon-box"><i class="ri-safe-2-line"></i></div>
                <span class="action-label">Savings</span>
            </div>
            <div class="action-item" onclick="handleAction('Loan')">
                <div class="icon-box"><i class="ri-hand-coin-line"></i></div>
                <span class="action-label">Loan</span>
            </div>
            <div class="action-item" onclick="handleAction('More')">
                <div class="icon-box"><i class="ri-function-line"></i></div>
                <span class="action-label">More</span>
            </div>
        </div>

        <!-- Transactions -->
        <div id="dashboardView">
            <div class="transactions-section">
                <div class="section-header">
                    <h3>Recent Activity</h3>
                    <span style="color: var(--primary); font-size: 0.9rem; font-weight: 500; cursor: pointer;"
                        onclick="handleSeeAll()">See All</span>
                </div>
                <div id="transactionList">
                    <!-- Javascript will populate this -->
                </div>
            </div>
        </div>

        <!-- Feature Views (Hidden by default) -->
        <div id="sendMoneyView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showDashboard()"></i>
                <h3>Send Money</h3>
            </div>
            <div class="form-group">
                <label>Receiver Number</label>
                <input type="tel" placeholder="017..." class="input-field" id="sendMoneyNumber">
            </div>
            <div class="form-group">
                <label>Amount</label>
                <input type="number" placeholder="$0.00" class="input-field" id="sendMoneyAmount">
            </div>
            <button class="btn btn-primary full-width" onclick="processTransaction('Send Money')">Send Now</button>
        </div>

        <div id="cashOutView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showDashboard()"></i>
                <h3>Cash Out</h3>
            </div>
            <div class="form-group">
                <label>Agent Number</label>
                <input type="tel" placeholder="Enter Agent ID" class="input-field" id="cashOutAgent">
            </div>
            <div class="form-group">
                <label>Amount</label>
                <input type="number" placeholder="$0.00" class="input-field" id="cashOutAmount">
            </div>
            <button class="btn btn-primary full-width" onclick="processTransaction('Cash Out')">Approve Cash
                Out</button>
        </div>

        <div id="rechargeView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showDashboard()"></i>
                <h3>Mobile Recharge</h3>
            </div>
            <div class="form-group">
                <label>Mobile Operator</label>
                <select class="input-field" id="rechargeOperator">
                    <option value="">Select Operator</option>
                    <option>Grameenphone</option>
                    <option>Robi</option>
                    <option>Banglalink</option>
                    <option>Airtel</option>
                </select>
            </div>
            <div class="form-group">
                <label>Mobile Number</label>
                <input type="tel" placeholder="017..." class="input-field" id="rechargeNumber">
            </div>
            <div class="form-group">
                <label>Amount</label>
                <input type="number" placeholder="Min $10" class="input-field" id="rechargeAmount">
            </div>
            <button class="btn btn-primary full-width" onclick="processTransaction('Recharge')">Recharge</button>
        </div>

        <div id="addMoneyView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showDashboard()"></i>
                <h3>Add Money</h3>
            </div>
            <div class="form-group">
                <label>Source</label>
                <select class="input-field" id="addMoneySource">
                    <option>Bank Account</option>
                    <option>Visa/MasterCard</option>
                </select>
            </div>
            <div class="form-group">
                <label>Amount</label>
                <input type="number" placeholder="$0.00" class="input-field" id="addMoneyAmount">
            </div>
            <button class="btn btn-primary full-width" onclick="processTransaction('Add Money')">Add Funds</button>
        </div>

        <!-- Inbox View -->
        <div id="inboxView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showDashboard()"></i>
                <h3>Inbox</h3>
            </div>
            <div class="inbox-list">
                <!-- Notifications will go here -->
                <div class="transaction-item">
                    <div class="t-icon" style="background: rgba(255, 107, 107, 0.1); color: var(--accent);"><i
                            class="ri-gift-line"></i></div>
                    <div class="t-info">
                        <div class="t-title">Welcome Bonus!</div>
                        <div class="t-date">You received $5 bonus</div>
                    </div>
                </div>
                <div class="transaction-item">
                    <div class="t-icon"><i class="ri-secure-payment-line"></i></div>
                    <div class="t-info">
                        <div class="t-title">Security Alert</div>
                        <div class="t-date">New login from Chrome</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile View -->
        <div id="profileView" class="feature-view hidden">
            <div class="view-header">
                <h3>My Profile</h3>
            </div>
            <div style="text-align: center; margin-bottom: 30px; position: relative;">
                <input type="file" id="profileUpload" accept="image/*" style="display: none;"
                    onchange="handleProfileImageChange(event)">
                <div class="avatar"
                    style="width: 80px; height: 80px; font-size: 2rem; margin: 0 auto 10px auto; cursor: pointer; position: relative;"
                    onclick="triggerProfileUpload()" id="profileAvatar">
                    <span id="profileInitial">S</span>
                    <div
                        style="position: absolute; bottom: 0; right: 0; background: var(--secondary); width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid white;">
                        <i class="ri-camera-fill" style="font-size: 0.8rem; color: white;"></i>
                    </div>
                </div>
                <h2 style="color: var(--primary);" id="profileNameContainer"><span id="profileName">Sadik</span></h2>
                <div class="text-muted" id="profilePhoneContainer"><span id="profilePhone">01712345678</span></div>

                <button class="btn btn-primary" style="padding: 8px 16px; font-size: 0.8rem; margin-top: 10px;"
                    id="editProfileBtn" onclick="toggleEditProfile()">Edit Profile</button>
            </div>

            <div class="actions-grid" style="grid-template-columns: 1fr; gap: 10px; padding: 0;">
                <div class="action-item" onclick="handleProfileOption('Account Settings')"
                    style="flex-direction: row; background: var(--bg-card); padding: 16px; border-radius: var(--radius-md); justify-content: flex-start;">
                    <i class="ri-user-settings-line"
                        style="font-size: 1.2rem; color: var(--primary); margin-right: 12px;"></i>
                    <span style="font-weight: 500;">Account Settings</span>
                </div>
                <div class="action-item" onclick="handleProfileOption('Privacy & Security')"
                    style="flex-direction: row; background: var(--bg-card); padding: 16px; border-radius: var(--radius-md); justify-content: flex-start;">
                    <i class="ri-shield-check-line"
                        style="font-size: 1.2rem; color: var(--primary); margin-right: 12px;"></i>
                    <span style="font-weight: 500;">Privacy & Security</span>
                </div>
                <div class="action-item" onclick="handleProfileOption('Support')"
                    style="flex-direction: row; background: var(--bg-card); padding: 16px; border-radius: var(--radius-md); justify-content: flex-start;">
                    <i class="ri-customer-service-2-line"
                        style="font-size: 1.2rem; color: var(--primary); margin-right: 12px;"></i>
                    <span style="font-weight: 500;">Support</span>
                </div>
            </div>
        </div>

        <!-- Settings Views -->
        <div id="accountSettingsView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showView('profileView')"></i>
                <h3>Account Settings</h3>
            </div>
            <div class="form-group">
                <label>Change Full Name</label>
                <input type="text" id="settingNameInput" placeholder="Name" class="input-field">
            </div>
            <div class="form-group">
                <label>Change Password</label>
                <input type="password" placeholder="New Password" class="input-field">
            </div>
            <button class="btn btn-primary full-width" onclick="saveAccountSettings()">Save Changes</button>
        </div>

        <div id="privacyView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showView('profileView')"></i>
                <h3>Privacy & Security</h3>
            </div>
            <div class="form-group"
                style="display: flex; justify-content: space-between; align-items: center; background: var(--bg-card); padding: 15px; border-radius: 10px;">
                <span>Hide Balance by Default</span>
                <input type="checkbox" onchange="alert('Setting saved!')">
            </div>
        </div>

        <div id="supportView" class="feature-view hidden">
            <div class="view-header">
                <i class="ri-arrow-left-line back-btn" onclick="showView('profileView')"></i>
                <h3>Support</h3>
            </div>
            <div style="text-align: center; padding: 20px;">
                <i class="ri-customer-service-2-line" style="font-size: 3rem; color: var(--primary);"></i>
                <p style="margin-top: 10px;">Contact us at:</p>
                <div style="font-weight: 700; font-size: 1.2rem;">abdullahsadik007@gmail.com</div>
                <p class="text-muted">Call: 16216</p>
            </div>
        </div>

        <!-- Scan QR View -->
        <div id="scanView" class="feature-view hidden" style="padding: 0; background: black;">
            <div class="scanner-container">
                <video id="qr-video" playsinline></video>
                <div class="scanner-overlay">
                    <div class="scan-area"></div>
                    <div class="scan-text">Place QR Code within frame</div>
                    <button class="btn btn-primary" onclick="stopScanner(); showDashboard()"
                        style="margin-top: 20px;">Cancel</button>
                </div>
            </div>
        </div>



        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="nav-item active">
                <i class="ri-home-5-fill"></i>
                <span class="nav-label">Home</span>
            </div>
            <div class="nav-item">
                <i class="ri-qr-code-line"></i>
                <span class="nav-label">Scan</span>
            </div>
            <div class="nav-item">
                <i class="ri-mail-line"></i>
                <span class="nav-label">Inbox</span>
            </div>
            <div class="nav-item">
                <i class="ri-user-3-line"></i>
                <span class="nav-label">Profile</span>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>